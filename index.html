<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Lambda API 호출</title>
</head>
<body>
    <h2>AWS Lambda 호출 (POST)</h2>
    
    <label for="checkDate">날짜:</label>
    <input type="date" id="checkDate" required>
    
    <label for="userId">사용자 ID:</label>
    <input type="text" id="userId" placeholder="USER ID 입력" required>
    
    <button onclick="callLambda()">Lambda 호출</button>

    <h3>응답 결과:</h3>
    <pre id="response"></pre>

    <script>
        async function callLambda() {
            const checkDate = document.getElementById("checkDate").value;
            const userId = document.getElementById("userId").value;

            if (!checkDate || !userId) {
                alert("모든 입력값을 입력하세요.");
                return;
            }

            const apiUrl = "https://your-api-gateway-url.com/check-in"; // AWS API Gateway URL

            const data = {
                check_date: checkDate,
                user_Id: userId
            };

            try {
                const response = await fetch(apiUrl, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(data)
                });

                const result = await response.json();
                document.getElementById("response").textContent = JSON.stringify(result, null, 2);
            } catch (error) {
                console.error("API 호출 오류:", error);
                document.getElementById("response").textContent = "API 호출 실패!";
            }
        }
    </script>
</body>
</html>
